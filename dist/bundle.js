(()=>{"use strict";var e={428:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=void 0;const s=n(388);t.Shape=class{constructor(e,t,n){console.log(e.length),this.apexes=e,this.canvasCtx=t,this.initOffset=n,this.color=this.generateColor(),this.avgCenterOffset=this.findAvgCenterOffset()}draw(e){const{x:t,y:n}=e;this.apexes.forEach((({x:e,y:s},i)=>{0===i?(this.canvasCtx.beginPath(),this.canvasCtx.moveTo(e+t,s+n)):this.canvasCtx.lineTo(e+t,s+n)})),this.canvasCtx.fillStyle=this.color,this.canvasCtx.fill()}move(e){const t=this.initOffset.x+this.avgCenterOffset.x*e,n=this.initOffset.y+this.avgCenterOffset.y*e;this.draw({x:t,y:n})}findAvgCoords(){const e=this.apexes.map((({x:e})=>e)),t=this.apexes.map((({y:e})=>e));return{x:(Math.min(...e)+Math.max(...e))/2,y:(Math.min(...t)+Math.max(...t))/2}}findAvgCenterOffset(){const e=this.findAvgCoords(),t=this.apexes.some((({x:e})=>0===e)),n=this.apexes.some((({x:e})=>e===2*this.initOffset.x)),s=this.apexes.some((({y:e})=>0===e)),i=this.apexes.some((({y:e})=>e===2*this.initOffset.y));let o=e.x-this.initOffset.x,r=e.y-this.initOffset.y;return t&&(o=-this.initOffset.x),n&&(o=this.initOffset.x),s&&(r=-this.initOffset.y),i&&(r=this.initOffset.y),{x:o,y:r}}generateColor(){return`rgb(${(0,s.getRandNumber)(0,255)}, ${(0,s.getRandNumber)(0,255)}, ${(0,s.getRandNumber)(0,255)})`}}},630:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findAngle=void 0,t.findAngle=function(e,t){const n=[t.find((({x:t,y:n})=>t===e[1].x&&n===e[1].y))||t[0],t.find((({x:t,y:n})=>t!==e[1].x||n!==e[1].y))||t[1]],s=e[1].x-e[0].x,i=e[1].y-e[0].y,o=n[1].x-n[0].x,r=n[1].y-n[0].y,a=(s*o+i*r)/(Math.sqrt(s*s+i*i)*Math.sqrt(o*o+r*r));let l=Math.acos(a)*(180/Math.PI);const x=s*r-i*o;return l>179&&(l-=360),l*Math.sign(x)}},996:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findCleanLines=void 0;const s=n(824);t.findCleanLines=function(e,t){const n=[];return e.forEach(((i,o)=>{const r=(0,s.findLineIntersections)(e,o,t);let a=r[0];r.slice(1).forEach((({x:e,y:t})=>{!a||a.x===e&&a.y===t||(n.push([a,{x:e,y:t}]),a={x:e,y:t})}))})),n}},824:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findLineIntersections=void 0,t.findLineIntersections=function(e,t,n){const s=[],i=e[t],o=[...e];o.splice(t,1),o.forEach((e=>{const{x:t,y:o}=i[0],{x:r,y:a}=i[1],{x:l,y:x}=e[0],{x:d,y:c}=e[1],f=t===r,u=l===d;let y;if(f&&u)y={x:t,y:o};else if(f){const e=(c-x)/(d-l);y={x:t,y:e*t+(x-e*l)}}else if(u){const e=(a-o)/(r-t);y={x:l,y:e*l+(o-e*t)}}else{const e=(a-o)/(r-t),n=(c-x)/(d-l);if(e===n)return null;const s=o-e*t,i=(x-n*l-s)/(e-n);y={x:i,y:e*i+s}}const h=y.x>=0&&y.x<=n,v=y.y>=0&&y.y<=n;h&&v&&s.push(y)}));const r=s.map((({x:e,y:t})=>`${e}/${t}`)),a=[...new Set(r)].map((e=>{const[t,n]=e.split("/");return{x:Math.ceil(+t),y:Math.ceil(+n)}}));return a.sort((({x:e},{x:t})=>e-t)),a.sort((({y:e},{y:t})=>e-t)),a}},204:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findShapeApexes=void 0;const s=n(630);t.findShapeApexes=function(e,t){var n,i;const o=e[0],r=[o,e[1]];for(;o.x!==(null===(n=r.at(-1))||void 0===n?void 0:n.x)||o.y!==(null===(i=r.at(-1))||void 0===i?void 0:i.y);){const e=r.at(-2)||{x:0,y:0},n=r.at(-1)||{x:0,y:0},i=t.filter((([t,s])=>{const i=t.x===(null==n?void 0:n.x)&&t.y===(null==n?void 0:n.y),o=s.x===(null==n?void 0:n.x)&&s.y===(null==n?void 0:n.y),r=t.x===(null==e?void 0:e.x)&&t.y===(null==e?void 0:e.y),a=s.x===(null==e?void 0:e.x)&&s.y===(null==e?void 0:e.y);return(i||o)&&!r&&!a}));if(!i.length)break;const o=i.reduce(((t,i)=>{const o=(0,s.findAngle)([e,n],t),r=(0,s.findAngle)([e,n],i);return 0===o||0!==r&&r>o?i:t})),a=(null==o?void 0:o.find((({x:e,y:t})=>(null==n?void 0:n.x)!==e||(null==n?void 0:n.y)!==t)))||{x:0,y:0};if(r.some((({x:e,y:t})=>a.x===e&&a.y===t)))break;r.push(a)}return r}},684:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateDividerSides=t.generateDividers=void 0;const s=n(388);function i(e){const t=(0,s.getRandNumber)(1,e.length);let n=(0,s.getRandNumber)(1,e.length);for(;n===t;)n=(0,s.getRandNumber)(1,e.length);return[e[t-1],e[n-1]]}t.generateDividers=function(e,t,n,o){const r=[];for(let a=0;a<e;a++){const[e,a]=i(o),[l,x]=e,[d,c]=a,f=l.x===x.x?(0,s.getRandNumber)(0,n):l.x,u=l.y===x.y?(0,s.getRandNumber)(0,t):l.y,y=d.x===c.x?(0,s.getRandNumber)(0,n):d.x,h=d.y===c.y?(0,s.getRandNumber)(0,t):d.y;r.push([{x:f,y:u},{x:y,y:h}])}return r},t.generateDividerSides=i},388:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRandNumber=void 0,t.getRandNumber=function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},932:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.motion=void 0,t.motion=(e,t,s,i,o,r)=>{n(e,t,s,i,o,r)};const n=(e,t,n,i,o,r)=>{let a=0;const l=setInterval((()=>{t.clearRect(0,0,n,i),e.forEach((e=>e.move(a/o))),a++,a>o&&(clearInterval(l),s(e,t,n,i,o,r))}),r)},s=(e,t,n,s,i,o)=>{let r=i;const a=setInterval((()=>{t.clearRect(0,0,n,s),e.forEach((e=>e.move(r/i))),r--,r<0&&clearInterval(a)}),o)}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}(()=>{const e=n(684),t=n(388),s=n(204),i=n(996),o=n(428),r=n(932),a=document.querySelector("canvas");if(!a)throw"Canvas not found";const l=a.getContext("2d");if(!l)throw"Canvas context not found";console.log((0,t.getRandNumber)(1,4)),console.log((0,t.getRandNumber)(1,4)),console.log((0,t.getRandNumber)(1,4)),console.log((0,t.getRandNumber)(1,4));const{height:x,width:d}=a,c=d/2,f=x/2,u=c/2,y=f/2,h={x:0,y:0},v={x:c,y:0},g={x:c,y:f},m={x:0,y:f},p=[[h,v],[v,g],[g,m],[m,h]],b=(0,e.generateDividers)((0,t.getRandNumber)(30,30),f,c,p),O=[...p,...b],C=(0,i.findCleanLines)(O,c),M=C.map((e=>new o.Shape((0,s.findShapeApexes)(e,C),l,{x:u,y})));(0,r.motion)(M,l,d,x,60,16.666666666666668)})()})();